# 🤖 AI_Solarbot v2.0

**ChatGPT 실무 강의 지원 + 팜솔라 전용 텔레그램 봇**

---

## 🚀 주요 기능

### 🧠 **AI 대화 시스템**
- **Gemini 우선 사용** (무료 1400회/일)
- **ChatGPT 자동 백업** (Gemini 한도 초과시)
- 실시간 사용량 모니터링
- 스마트 키워드 감지 및 맞춤 응답

### 📚 **강의 지원 시스템**
- 팜솔라 교과서 기반 **실제 과제 관리**
- 주차별/강별 과제 자동 배정
- 학생 제출 현황 추적
- 랜덤 연습 과제 생성
- 실시간 프롬프트 템플릿 생성

### ☀️ **태양광 전문 계산**
- 즉시 발전량 계산 (`/calc 100kW 서울`)
- 상세 경제성 분석
- 지역별/각도별 최적화 방안
- 투자 회수 기간 계산

### 🔧 **지능형 콘텐츠 분석**
- **고급 감정 분석**: 8가지 세분화된 감정 분류
- **감정 강도 및 신뢰도**: 정확한 감정 측정 지표
- **한국어 특화**: 한국어 표현과 문화적 맥락 반영
- **AI 통합**: Rule-based + AI 분석의 하이브리드 접근

### 📋 **새로운 기능 (v5.4)**
- **OFFLINE_MODE 지원**: 외부 서비스 없이도 로컬에서 테스트 가능
- **의존성 문제 해결을 위한 조건부 모듈 로딩**
- **모킹 시스템으로 개발 환경 구성 간소화**

### 📊 **개선된 테스트 시스템**
- **통합 테스트 프레임워크 완전 개선**
- **의존성 자동 설치 및 환경 설정 스크립트**
- **콘텐츠 분석기 단독 테스트 지원**

---

## 📱 사용법

### **기본 명령어**
```
/start          - 봇 시작 및 상태 확인
/help           - 전체 기능 가이드
/status         - AI 엔진 상태 및 사용량
```

### **강의 관련**
```
/homework                - 현재 과제 확인
/homework [주차] [강]     - 특정 과제 확인
/submit [과제내용]        - 과제 제출
/progress               - 내 제출 현황
/practice               - 랜덤 연습 과제
/template [주제]         - 프롬프트 템플릿 생성
```

### **태양광 계산**
```
/solar                  - 계산기 가이드
/calc [용량]kW [지역]    - 즉시 계산
```

### **감정 분석**
```
/sentiment_only [URL]    - 감정 분석만 수행
/emotion_detail [URL]     - 세분화된 감정 분석 상세 결과
/sentiment_batch [URL1,URL2,URL3] - 여러 URL 감정 분석
/sentiment_compare [URL1,URL2] - 두 콘텐츠 감정 비교
```

### **품질 평가**
```
/quality_check [URL]       - 품질 평가만 수행
/quality_detail [URL]       - 다차원 품질 평가 상세 결과
/quality_batch [URL1,URL2,URL3] - 여러 URL 품질 평가
/quality_compare [URL1,URL2] - 두 콘텐츠 품질 비교
/quality_report [URL]        - 품질 개선 제안 리포트
```

**예시:**
- `/calc 100kW 서울`
- `/calc 50kW 부산 25도`
- "100kW 광주에 설치할 때 경제성 분석해줘"

---

## 🛠️ 기술 스택

### **AI 엔진**
- **Google Gemini 2.5 Flash** (Primary)
- **OpenAI GPT-4o** (Backup)
- 자동 사용량 추적 및 전환

### **봇 프레임워크**
- **python-telegram-bot 20.7**
- 실시간 명령어 처리
- 파일 기반 데이터 관리

### **데이터 관리**
- JSON 기반 과제/진도 관리
- 실시간 사용량 추적
- 자동 백업 시스템

---

## 📊 개발 현황

### ✅ **완성된 기능**
- [x] Gemini + ChatGPT 통합 AI 시스템
- [x] 실제 교과서 기반 과제 관리
- [x] 태양광 전문 계산 시스템
- [x] 프롬프트 템플릿 자동 생성
- [x] 학생 진도 추적 시스템
- [x] 스마트 키워드 감지
- [x] 사용량 모니터링 대시보드
- [x] 고급 감정 분석 시스템
- [x] 다차원 품질 평가 시스템

### ⏳ **개발 예정**
- [ ] 웹 대시보드 (관리자용)
- [ ] 과제 자동 평가 시스템
- [ ] 다국어 지원 (영어)
- [ ] 음성 메시지 지원
- [ ] 고급 데이터 분석

---

## 📁 프로젝트 구조

```
AI_Solarbot_Project/
├── src/
│   ├── bot.py              # 메인 봇 로직
│   ├── ai_handler.py       # AI 엔진 통합 관리
│   ├── homework_manager.py # 과제 관리 시스템
│   ├── intelligent_content_analyzer.py  # 지능형 콘텐츠 분석 시스템
│   └── ...                        # 기타 모듈들
├── config/
│   ├── .env               # 환경변수 (API 키)
│   └── requirements.txt   # 필요 패키지
├── docs/
│   └── README.md         # 프로젝트 문서
└── data/
    ├── usage_tracker.json    # 사용량 추적
    └── homework_data.json    # 과제 데이터
```

---

## 🔧 설치 및 실행

### **1. 환경 설정**
```bash
# 저장소 클론
git clone [repository-url]
cd AI_Solarbot_Project

# 가상환경 생성
python -m venv venv
venv\Scripts\activate  # Windows

# 패키지 설치
pip install -r requirements.txt
```

### **2. API 키 설정**
`.env` 파일 생성:
```env
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
GEMINI_API_KEY=your_gemini_api_key
OPENAI_API_KEY=your_openai_api_key
BOT_USERNAME=AI_Solarbot
ADMIN_USER_ID=your_telegram_user_id
```

### **3. 봇 실행**
```bash
cd src
python bot.py
```

---

## 📈 사용량 통계

### **AI 엔진 한도**
- **Gemini**: 1,400회/일 (무료)
- **ChatGPT**: 종량제 (백업용)

### **자동 전환 시스템**
1. Gemini 우선 사용
2. 한도 초과시 ChatGPT 자동 전환
3. 일일 사용량 리셋 (자정)

### **모니터링**
- `/status` 명령어로 실시간 확인
- JSON 파일 기반 추적
- 사용 패턴 분석

---

## 🎯 실사용 예시

### **과제 제출 시나리오**
```
학생: /homework
봇: 📚 1주차 1강 - ChatGPT와 첫 대화하기...

학생: /submit 
프롬프트: "마케팅 매니저로서 월간 보고서 작성해줘"
결과: [상세한 보고서 결과]
느낀점: 역할 설정으로 더 구체적인 답변을 얻음

봇: ✅ 과제 제출 완료! 총 1회 제출
```

### **태양광 계산 시나리오**
```
사용자: /calc 100kW 서울
봇: 🔄 계산 중... (100kW, 서울, 30도)
봇: 🌞 태양광 발전량 분석 결과
    
    연간 예상 발전량: 130,000kWh
    월평균 발전량: 10,833kWh
    예상 연간 수익: 19,500,000원
    투자 회수 기간: 6.2년
    ...
    *Calculated by 🧠 Padiem*
```

### **프롬프트 템플릿 시나리오**
```
사용자: /template 보고서
봇: 🔄 '보고서' 템플릿을 생성하고 있습니다...
봇: 📝 '보고서' 프롬프트 템플릿
    
    1. 🎯 경영진용 보고서 템플릿:
    "당신은 10년차 전략기획 전문가입니다..."
    
    2. 📊 데이터 분석 보고서 템플릿:
    "당신은 데이터 분석가로서..."
    
    3. 📈 프로젝트 진행 보고서 템플릿:
    "당신은 프로젝트 매니저로서..."
    
    *Generated by 🧠 Padiem*
```

---

## 🔒 보안 및 관리

### **API 키 보안**
- 환경변수로 관리
- `.env` 파일 .gitignore 등록
- 정기적인 키 로테이션 권장

### **사용량 제한**
- Gemini 일일 1,400회 제한
- 사용량 95% 도달시 ChatGPT 전환
- 자동 리셋 (매일 자정)

### **데이터 관리**
- 로컬 JSON 파일 저장
- 개인정보 최소 수집
- 과제 제출 내용 암호화 (향후 계획)

---

## 🚀 배포 옵션

### **로컬 실행** (현재)
```bash
python src/bot.py
```

### **클라우드 배포** (계획)
- **Heroku**: 무료 티어 활용
- **Railway**: 간편한 배포
- **AWS EC2**: 안정적인 운영
- **Google Cloud Run**: 서버리스

### **24시간 운영**
- VPS 서버 권장
- PM2 프로세스 관리
- 자동 재시작 설정
- 로그 모니터링

---

## 📞 지원 및 문의

### **기술 지원**
- 텔레그램: `@AI_Solarbot`
- GitHub Issues: [링크]
- 이메일: [contact@email.com]

### **업데이트**
- 정기 업데이트: 주 1회
- 긴급 수정: 즉시 반영
- 새 기능: 월 1-2회

### **커뮤니티**
- 사용자 그룹: [텔레그램 그룹]
- 개발자 채널: [디스코드]
- 피드백 수집: [구글 폼]

---

## 🏆 성과 및 통계

### **개발 기간**
- 기획: 1일
- 개발: 2일
- 테스트: 1일
- **총 4일 완성**

### **기술적 성과**
- 🧠 AI 이중화 시스템 구축
- 📚 실제 교과서 연동
- ☀️ 전문 계산 시스템
- 🤖 완전 자동화 봇
- 🔧 지능형 콘텐츠 분석 시스템

### **예상 효과**
- 강의 효율성 300% 향상
- 과제 관리 시간 90% 단축
- 학생 참여도 200% 증가
- 태양광 계산 정확도 95%+

---

## 📝 라이선스

이 프로젝트는 **MIT 라이선스** 하에 배포됩니다.

---

*AI_Solarbot v2.0 - Powered by Padiem & ChatGPT*  
*개발일: 2025-06-23 | 개발자: Limone Dev Team*
